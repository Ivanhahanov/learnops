# Погружение в мир безопасности Linux: защита на все 100%

Привет, друг!

Если ты уже знаком с Linux, то знаешь, какой это мощный инструмент. Но с большой силой приходит большая ответственность, правда? Сегодня мы поговорим о том, как защитить свою систему. Не переживай, я объясню всё на понятных примерах, а где надо — покажу код.

---

## Глава 1. Почему безопасность в Linux важна?

Linux известен своей надёжностью, но это не значит, что можно расслабиться. Атаки бывают разными: вирусы, вредоносные скрипты, попытки взлома через сеть. Хорошая новость — в Linux у тебя больше инструментов для защиты, чем в большинстве других ОС.

---

## Глава 2. Основные принципы безопасности

1. **Минимальные привилегии**: всегда работай как обычный пользователь, а не от имени суперпользователя (*root*).
2. **Обновления**: поддерживай систему и приложения в актуальном состоянии.
3. **Настройка прав доступа**: файлы и папки должны быть защищены.
4. **Мониторинг системы**: вовремя замечай подозрительную активность.

---

## Глава 3. Примеры защиты

### 1. Обновление системы

Старая версия софта — это открытая дверь для злоумышленников. В Linux обновления просты:

```bash
sudo apt update && sudo apt upgrade
```

Эта команда обновляет список пакетов и устанавливает последние версии.

### 2. Настройка файервола

Брандмауэр (файервол) — твой первый рубеж защиты. В Linux есть удобный инструмент `ufw`.

**Включение файервола:**
```bash
sudo ufw enable
```

**Просмотр текущего состояния:**
```bash
sudo ufw status
```

**Открытие порта 22 (SSH):**
```bash
sudo ufw allow 22
```

**Закрытие ненужного порта:**
```bash
sudo ufw deny 80
```

### 3. Настройка прав доступа к файлам

У каждого файла в Linux есть три уровня доступа: для владельца, группы и всех остальных.

**Посмотреть права на файлы:**
```bash
ls -l
```

Пример вывода:
```
-rw-r--r-- 1 user user 1024 Jan 15 15:00 file.txt
```
- `rw-` — владелец может читать и записывать.
- `r--` — группа может только читать.
- `r--` — остальные тоже только читают.

**Изменение прав:**
```bash
chmod 600 file.txt
```

Теперь файл доступен только владельцу.

### 4. Защита SSH

Если ты работаешь через SSH, убедись, что он настроен правильно.

**Отключение входа под root:**
Открой файл `/etc/ssh/sshd_config` и найди строку:
```plaintext
PermitRootLogin yes
```
Замени на:
```plaintext
PermitRootLogin no
```

Перезапусти SSH:
```bash
sudo systemctl restart ssh
```

**Установка аутентификации по ключу:**
1. Сгенерируй ключ:
   ```bash
   ssh-keygen -t rsa -b 4096
   ```
2. Добавь публичный ключ на сервер:
   ```bash
   ssh-copy-id user@server
   ```
3. Отключи вход по паролю (в том же `sshd_config`):
   ```plaintext
   PasswordAuthentication no
   ```

---

## Глава 4. Инструменты для мониторинга

### 1. `top` и `htop`

Команды для просмотра процессов. `htop` более удобный, если установлен:
```bash
htop
```

### 2. Проверка логов

Логи — это место, где можно найти признаки взлома.

**Просмотр системного лога:**
```bash
sudo tail -f /var/log/syslog
```

**Логи SSH:**
```bash
sudo cat /var/log/auth.log | grep ssh
```

### 3. `fail2ban`

Инструмент, который автоматически блокирует IP, если кто-то слишком часто вводит неправильный пароль.

**Установка:**
```bash
sudo apt install fail2ban
```

**Старт и включение:**
```bash
sudo systemctl enable --now fail2ban
```

---

## Глава 5. Итоги

Linux предоставляет мощные инструменты для безопасности, но только ты решаешь, насколько твоя система будет защищена. Помни про обновления, настрой права доступа, и используй встроенные инструменты.

И главное: не бойся учиться! С каждым шагом ты будешь чувствовать себя всё увереннее.

**Есть вопросы или идеи? Дай знать!**

