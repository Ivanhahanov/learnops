---
title: Шаблоны заданий
weight: 0
---

## Доступные шаблоны

В системе на данный момент доступны следующие шаблоны:

### Terminal

Этот шаблон используется для развертывания терминала в Kubernetes.
{{< callout type="info" >}}
  Терминал должен быть в каждом задании
{{< /callout >}}

{{% details title="Подробнее" closed="true" %}}

**Пример конфигурации:**
```yaml
apiVersion: kro.run/v1alpha1
kind: Terminal
metadata:
  name: users-terminal
spec:
  name: terminal
```

**Описание параметров:**
- `metadata.name` — имя ресурса.
- `spec.name` — имя терминала, используемое в среде.

**Как это работает:**
Шаблон `Terminal` позволяет развернуть терминал в Kubernetes, обеспечивая доступ к командной строке через веб-интерфейс.
Это основная точка входа, через которую можно получить доступ к командной строке и прямой доступ к остальным сервисам задания

{{% /details %}}

### Gitea

Шаблон для развертывания Git-сервера Gitea в Kubernetes.

{{% details title="Подробнее" closed="true" %}}

**Пример конфигурации:**
```yaml
apiVersion: kro.run/v1alpha1
kind: Gitea
metadata:
  name: users-gitea
spec:
  name: gitea
  ingress:
    enabled: true
```

**Описание параметров:**
- `metadata.name` — имя ресурса.
- `spec.name` — имя инстанса Gitea.
- `spec.ingress.enabled` — включает поддержку Ingress для внешнего доступа.

**Как это работает:**
Шаблон `Gitea` позволяет развернуть Git-сервер в Kubernetes. Gitea - потреблять немного ресурсов и это делает его отличным сервисом для изучения основ работы с git. Для более сложных задний, где нужны ci/cd pipelines лучше подойдёт Gitlab.

{{% /details %}}

В дальнейшем планируется добавление новых шаблонов. Они будут добавлены в этот список с соответствующими описаниями.


## Создание собственных шаблонов

При создании своих шаблонов важно учитывать несколько ключевых моментов:

### Аннотации

Каждый под должен содержать следующие аннотации для корректной работы карты инфраструктуры:

```yaml
annotations:
  learnops/name: "Название сервиса"
  learnops/description: "Краткое описание сервиса"
  learnops/url: https://${schema.spec.name}.${schema.metadata.namespace}.${schema.spec.domain}
```
На основании этой информации платформа генерирует карту:

![](/img/map.png)

### Основные рекомендации

1. **Структура CRD**: Разрабатывайте шаблоны в соответствии с общими принципами Kubernetes.
2. **Использование аннотаций**: Все шаблоны должны содержать необходимые аннотации для интеграции с системой.
3. **Ingress и TLS**: Если ваш сервис требует внешнего доступа, продумайте использование Ingress с поддержкой TLS.